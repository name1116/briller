<div class="ham-menu-wrap">
  <div class="wrap">
    <div class="ham-menu">
      <div class="title-wrap">
        <h3 class="title font-ir" translate="no">Briller</h3>
        <button class="option-btn">
          <i class="xi-angle-down"></i>
        </button>
      </div>

      <div class="btn-wrap disable">
        <button>
          <a href="../about_sub01.html" class="font-pl"> 브리에의원</a>
        </button>
        <button>
          <a href="../about_sub02.html" class="font-pl"> 의료진 소개 </a>
        </button>
        <button>
          <a href="../about_sub03.html" class="font-pl"> 오시는 길 </a>
        </button>
      </div>
    </div>
    <div class="ham-menu">
      <div class="title-wrap">
        <h3 class="title font-ir" translate="no">Signature</h3>
        <button class="option-btn">
          <i class="xi-angle-down"></i>
        </button>
      </div>

      <div class="btn-wrap disable">
        <button>
          <a href="../signature_sub01.html" class="font-pl"> 동안 필러 </a>
        </button>
        <button>
          <a href="../signature_sub02.html" class="font-pl"> 주름 필러 </a>
        </button>
        <button>
          <a href="../signature_sub03.html" class="font-pl"> 흉터 필러 </a>
        </button>
        <button>
          <a href="../signature_sub04.html" class="font-pl"> 눈 밑 필러 </a>
        </button>
        <button>
          <a href="../signature_sub05.html" class="font-pl"> 뮤즈라인주사 </a>
        </button>
      </div>
    </div>
    <div class="ham-menu">
      <div class="title-wrap">
        <h3 class="title font-ir" translate="no">Lifting</h3>
        <button class="option-btn">
          <i class="xi-angle-down"></i>
        </button>
      </div>

      <div class="btn-wrap disable">
        <button>
          <a href="../lifting_sub01.html" class="font-pl"> 실리프팅 </a>
        </button>
        <button>
          <a href="../lifting_sub02.html" class="font-pl"> 울쎄라 </a>
        </button>
        <button>
          <a href="../lifting_sub03.html" class="font-pl"> 텐써마 </a>
        </button>
        <button>
          <a href="../lifting_sub04.html" class="font-pl"> 슈링크유니버스 </a>
        </button>
        <button>
          <a href="../lifting_sub05.html" class="font-pl"> 인모드 </a>
        </button>
      </div>
    </div>
    <div class="ham-menu">
      <div class="title-wrap">
        <h3 class="title font-ir" translate="no">Face/Body</h3>
        <button class="option-btn">
          <i class="xi-angle-down"></i>
        </button>
      </div>

      <div class="btn-wrap disable">
        <button>
          <a href="../facebody_sub01.html" class="font-pl"> 보톡스 </a>
        </button>
        <button>
          <a href="../facebody_sub02.html" class="font-pl"> 울트라콜/쥬베룩 </a>
        </button>
        <button>
          <a href="../facebody_sub03.html" class="font-pl"> 얼굴윤곽/라인 </a>
        </button>
      </div>
    </div>

    <div class="ham-menu">
      <div class="title-wrap">
        <h3 class="title font-ir" translate="no">Skin</h3>
        <button class="option-btn">
          <i class="xi-angle-down"></i>
        </button>
      </div>

      <div class="btn-wrap disable">
        <button>
          <a href="../skin_sub01.html" class="font-pl"> 스킨부스터 </a>
        </button>
        <button>
          <a href="../skin_sub02.html" class="font-pl"> 피부관리 </a>
        </button>
        <button>
          <a href="../skin_sub03.html" class="font-pl"> 항노화/미용수액 </a>
        </button>
      </div>
    </div>

    <div class="ham-menu">
      <div class="title-wrap">
        <h3 class="title font-ir" translate="no">Color/Pore</h3>
        <button class="option-btn">
          <i class="xi-angle-down"></i>
        </button>
      </div>

      <div class="btn-wrap disable">
        <button>
          <a href="../color_sub01.html" class="font-pl"> 피코어 </a>
        </button>
        <button>
          <a href="../color_sub02.html" class="font-pl"> 클라리티프로 </a>
        </button>
        <button><a href="../color_sub03.html" class="font-pl"> CO2 </a></button>
      </div>
    </div>

    <div class="ham-menu">
      <div class="title-wrap">
        <h3 class="title font-ir" translate="no">Promotion</h3>
        <button class="option-btn">
          <i class="xi-angle-down"></i>
        </button>
      </div>

      <div class="btn-wrap disable">
        <button>
          <a href="../promotion.html" class="font-pl"> 프로모션 </a>
        </button>
      </div>
    </div>
  </div>
</div>

<div class="logo-img-wrap">
  <a href="../index.html">
    <img src="../images/logo.png" alt="브리에 로고" />
  </a>
</div>

<div id="google_translate_element" style="display: none"></div>

<div class="menu">
  <div class="language-wrap">
    <button class="lang-wrap" id=":1.restore">
      <a href="javascript:void(0)">
        <img
          src="../images/korea.png"
          alt="한국어"
          class="korean"
          data-lang="ko"
        />
      </a>
    </button>
    <button class="lang-wrap">
      <a href="javascript:void(0)">
        <img
          src="../images/china.png"
          alt="중국어"
          class="china"
          data-lang="zh-CN"
        />
      </a>
    </button>
    <button class="lang-wrap">
      <a href="javascript:void(0)">
        <img
          src="../images/japan.png"
          alt="일본어"
          class="japanese"
          data-lang="ja"
        />
      </a>
    </button>
    <button class="lang-wrap">
      <a href="javascript:void(0)">
        <img
          src="../images/USA.png"
          alt="영어"
          class="english"
          data-lang="en"
        />
      </a>
    </button>

    <button class="mobile-lang-btn">
      <p class="btn-text font-pl" translate="no">KR</p>
      <i class="xi-angle-down-thin"></i>
    </button>

    <div class="mobile-lang">
      <button class="m-lang-wrap" onclick="closeMobileBtn()">
        <a href="javascript:void(0)">
          <p
            class="btn-text font-pl"
            translate="no"
            data-lang="ko"
            id=":1.restore"
          >
            KR
          </p>
        </a>
      </button>
      <button class="m-lang-wrap">
        <a href="javascript:void(0)" onclick="closeMobileBtn()">
          <p class="btn-text font-pl" translate="no" data-lang="zh-CN">CN</p>
        </a>
      </button>
      <button class="m-lang-wrap">
        <a href="javascript:void(0)" onclick="closeMobileBtn()">
          <p class="btn-text font-pl" translate="no" data-lang="ja">JP</p>
        </a>
      </button>
      <button class="m-lang-wrap">
        <a href="javascript:void(0)" onclick="closeMobileBtn()">
          <p class="btn-text font-pl" translate="no" data-lang="en">US</p>
        </a>
      </button>
    </div>
  </div>

  <button class="ham-menu-img-wrap">
    <i class="xi-bars"></i>
  </button>
</div>

<div class="follow-header">
  <div class="sub-logo-img-wrap">
    <a href="../index.html">
      <img src="../images/logo.png" alt="브리에 로고" />
    </a>
  </div>
</div>

<nav class="header-main-nav">
  <div class="main-nav-btn">
    <a
      href="../about_sub01.html"
      class="font-pm"
      onmouseover="changeText(this)"
      onmouseout="resetText(this)"
      data-key="BRILLER"
      translate="no"
    >
      BRILLER
    </a>
    <div class="main-nav-detail-wrap">
      <button>
        <a href="../about_sub01.html" class="main-nav-detail font-pl"
          >브리에의원</a
        >
      </button>
      <button>
        <a href="../about_sub02.html" class="main-nav-detail font-pl"
          >의료진 소개</a
        >
      </button>
      <button>
        <a href="../about_sub03.html" class="main-nav-detail last font-pl"
          >오시는길</a
        >
      </button>
    </div>
  </div>

  <div class="main-nav-btn">
    <a
      href="../signature_sub01.html"
      class="font-pm"
      onmouseover="changeText(this)"
      onmouseout="resetText(this)"
      data-key="SIGNATURE"
      translate="no"
    >
      SIGNATURE
    </a>
    <div class="main-nav-detail-wrap">
      <button>
        <a href="../signature_sub01.html" class="main-nav-detail font-pl"
          >동안 필러</a
        >
      </button>
      <button>
        <a href="../signature_sub02.html" class="main-nav-detail font-pl"
          >주름 필러</a
        >
      </button>
      <button>
        <a href="../signature_sub03.html" class="main-nav-detail font-pl"
          >흉터 필러</a
        >
      </button>
      <button>
        <a href="../signature_sub04.html" class="main-nav-detail font-pl"
          >눈 밑 필러</a
        >
      </button>
      <button>
        <a href="../signature_sub05.html" class="main-nav-detail last font-pl"
          >뮤즈라인주사</a
        >
      </button>
    </div>
  </div>

  <div class="main-nav-btn">
    <a
      href="../lifting_sub01.html"
      class="font-pm"
      onmouseover="changeText(this)"
      onmouseout="resetText(this)"
      data-key="LIFTING"
      translate="no"
    >
      LIFTING
    </a>
    <div class="main-nav-detail-wrap">
      <button>
        <a href="../lifting_sub01.html" class="main-nav-detail font-pl"
          >실리프팅</a
        >
      </button>
      <button>
        <a href="../lifting_sub02.html" class="main-nav-detail font-pl"
          >울쎄라</a
        >
      </button>
      <button>
        <a href="../lifting_sub03.html" class="main-nav-detail font-pl"
          >텐써마</a
        >
      </button>
      <button>
        <a href="../lifting_sub04.html" class="main-nav-detail font-pl"
          >슈링크유니버스</a
        >
      </button>
      <button>
        <a href="../lifting_sub05.html" class="main-nav-detail last font-pl"
          >인모드</a
        >
      </button>
    </div>
  </div>

  <div class="main-nav-btn">
    <a
      href="../facebody_sub01.html"
      class="font-pm"
      onmouseover="changeText(this)"
      onmouseout="resetText(this)"
      data-key="FACE/BODY"
      translate="no"
    >
      FACE/BODY
    </a>
    <div class="main-nav-detail-wrap">
      <button>
        <a href="../facebody_sub01.html" class="main-nav-detail font-pl"
          >보톡스</a
        >
      </button>
      <button>
        <a href="../facebody_sub02.html" class="main-nav-detail font-pl"
          >울트라콜/쥬베룩</a
        >
      </button>
      <button>
        <a href="../facebody_sub03.html" class="main-nav-detail last font-pl"
          >얼굴윤곽/라인</a
        >
      </button>
    </div>
  </div>

  <div class="main-nav-btn">
    <a
      href="../skin_sub01.html"
      class="font-pm"
      onmouseover="changeText(this)"
      onmouseout="resetText(this)"
      data-key="SKIN"
      translate="no"
    >
      SKIN
    </a>
    <div class="main-nav-detail-wrap">
      <button>
        <a href="../skin_sub01.html" class="main-nav-detail font-pl"
          >스킨부스터</a
        >
      </button>
      <button>
        <a href="../skin_sub02.html" class="main-nav-detail font-pl"
          >피부관리</a
        >
      </button>
      <button>
        <a href="../skin_sub03.html" class="main-nav-detail last font-pl"
          >항노화/미용수액</a
        >
      </button>
    </div>
  </div>

  <div class="main-nav-btn">
    <a
      href="../color_sub01.html"
      class="font-pm"
      onmouseover="changeText(this)"
      onmouseout="resetText(this)"
      data-key="COLOR/PORE"
      translate="no"
    >
      COLOR/PORE
    </a>
    <div class="main-nav-detail-wrap">
      <button>
        <a href="../color_sub01.html" class="main-nav-detail font-pl">피코어</a>
      </button>
      <button>
        <a href="../color_sub02.html" class="main-nav-detail font-pl"
          >클라리티프로</a
        >
      </button>
      <button>
        <a href="../color_sub03.html" class="main-nav-detail last font-pl"
          >CO2</a
        >
      </button>
    </div>
  </div>

  <div class="main-nav-btn">
    <a
      href="../promotion.html"
      class="font-pm"
      onmouseover="changeText(this)"
      onmouseout="resetText(this)"
      data-key="PROMOTION"
      translate="no"
    >
      PROMOTION
    </a>
  </div>
</nav>

<script>
  if (location.pathname.endsWith("index.html") || location.pathname === "/") {
    const header = document.querySelector("#header");
    const mainLogo = document.querySelector("#header .logo-img-wrap");
    const mainLogoImg = document.querySelector("#header .logo-img-wrap img");
    const nav = document.querySelector("#header .header-main-nav");
    const trans = document.querySelector(
      "#header .menu .language-wrap .mobile-lang-btn"
    );
    const transText = document.querySelector(
      "#header .menu .language-wrap .mobile-lang-btn p"
    );
    const transArrow = document.querySelector(
      "#header .menu .language-wrap .mobile-lang-btn i"
    );
    const menu = document.querySelector("#header .menu .ham-menu-img-wrap i");
    const navBtn = document.querySelectorAll(
      "#header .header-main-nav .main-nav-btn .font-pm"
    );
    const navDetail = document.querySelectorAll(
      "#header .header-main-nav .main-nav-btn .main-nav-detail-wrap"
    );

    let isWideScreen = window.innerWidth >= 1200;

    // 색상 초기화 로직 함수화
    function updateColors() {
      if (isWideScreen) {
        transText.style.color = "#fff";
        transArrow.style.color = "#fff";
        menu.style.color = "#fff";

        navBtn.forEach((el) => {
          el.style.color = "#fff";
        });
      } else {
        transText.style.color = "#202020";
        transArrow.style.color = "#202020";
        menu.style.color = "#202020";

        navBtn.forEach((el) => {
          el.style.color = "#202020";
        });
      }
    }

    // 창 크기 조정 이벤트
    window.addEventListener("resize", () => {
      const newIsWideScreen = window.innerWidth >= 1200;
      if (newIsWideScreen !== isWideScreen) {
        isWideScreen = newIsWideScreen;
        updateColors();
      }
    });

    // 마우스 오버 이벤트
    window.addEventListener("mouseover", (e) => {
      if (e.clientY <= 300 && window.scrollY === 0 && isWideScreen) {
        const followHeader = document.querySelector("#header .follow-header");
        const followHeaderLogo = document.querySelector(
          "#header .follow-header .sub-logo-img-wrap"
        );

        // 스타일 업데이트
        mainLogo.style.width = "118px";
        mainLogo.style.height = "64px";
        mainLogo.style.marginTop = "12px";
        mainLogo.style.marginLeft = "20px";

        nav.style.transform = "translateY(-75px)";
        nav.style.transition = "transform 0.3s ease-in-out";

        followHeader.style.display = "block";
        followHeader.style.height = "88px";
        followHeader.style.paddingTop = "12px";
        followHeader.style.paddingBottom = "12px";
        followHeaderLogo.style.display = "none";

        transText.style.color = "#202020";
        transArrow.style.color = "#202020";
        menu.style.color = "#202020";

        navBtn.forEach((el) => {
          el.style.color = "#202020";
        });

        mainLogoImg.style.filter = "invert(100%) contrast(100%)";
      }
    });

    // 마우스 아웃 이벤트
    window.addEventListener("mouseout", (e) => {
      if (e.clientY > 300 && window.scrollY === 0) {
        const followHeader = document.querySelector("#header .follow-header");
        const followHeaderLogo = document.querySelector(
          "#header .follow-header .sub-logo-img-wrap"
        );

        // 스타일 초기화
        mainLogo.style.width = "";
        mainLogo.style.height = "";
        mainLogo.style.marginTop = "";
        mainLogo.style.marginLeft = "";

        nav.style.transform = "translateY(0)";
        nav.style.transition = "transform 0.3s ease-in-out";

        followHeader.style.display = "none";
        followHeader.style.height = "";
        followHeader.style.paddingTop = "";
        followHeader.style.paddingBottom = "";
        followHeaderLogo.style.display = "";

        mainLogoImg.style.filter = "";

        // 색상 업데이트
        updateColors();
      }
    });

    // 스크롤 이벤트
    window.addEventListener("scroll", () => {
      if (window.scrollY <= 100) {
        updateColors();
      }
    });

    function toggleFollowHeader() {
      const followHeader = document.querySelector(".follow-header");
      const nav = document.querySelector(".header-main-nav");
      const navFont = document.querySelectorAll(
        ".header-main-nav .main-nav-btn .font-pm"
      );
      const menuBtn = document.querySelector(".menu .ham-menu-img-wrap i");
      const scrollPosition = window.scrollY; // 스크롤 위치 확인
      const transBtnText = document.querySelector(
        "#header .menu .language-wrap .mobile-lang-btn p"
      );
      const transBtnArrow = document.querySelector(
        "#header .menu .language-wrap .mobile-lang-btn i"
      );

      // 200px 이상 스크롤 시 follow-header 표시
      if (scrollPosition >= 120) {
        followHeader.style.display = "block";
        nav.style.position = "fixed";
        nav.style.left = "50%";
        nav.style.transform = "translate(-50%)";
        nav.style.transition = "none";
        navFont.forEach((el) => {
          el.style.color = "#202020";
        });
        menuBtn.style.color = "#202020";
        transBtnText.style.color = "#202020";
        transBtnArrow.style.color = "#202020";
      } else {
        followHeader.style.display = "none";
        nav.style.position = "relative";
        nav.style.left = "auto";
        nav.style.transform = "none";

        navFont.forEach((el) => {
          el.style.color = "#FFF";
        });

        // menuBtn.style.color = "#FFF";
        // transBtnText.style.color = "#FFF";
        // transBtnArrow.style.color = "#FFF";
      }
    }
  }

  const followHeader = document.querySelector(".follow-header");
  const navLinks = document.querySelectorAll(
    ".header-main-nav .main-nav-btn a"
  );
  const menuBtn = document.querySelector(".menu");

  // followHeader에 마우스 올리면 스타일 변경
  followHeader.addEventListener("mouseover", () => {
    followHeader.classList.add("hovered");
  });

  followHeader.addEventListener("mouseout", () => {
    followHeader.classList.remove("hovered");
  });

  // nav 링크에 마우스 올릴 때 스타일 유지
  navLinks.forEach((link) => {
    link.addEventListener("mouseover", () => {
      followHeader.classList.add("hovered");
    });

    link.addEventListener("mouseout", () => {
      // followHeader의 전체 hover 상태와 분리
      if (!followHeader.matches(":hover")) {
        followHeader.classList.remove("hovered");
      }
    });
  });

  menuBtn.addEventListener("mouseover", () => {
    followHeader.classList.add("hovered");
  });
  menuBtn.addEventListener("mouseout", () => {
    followHeader.classList.remove("hovered");
  });

  // 모든 navLinks에 클래스 추가/제거 함수
  function addHoverClass() {
    navLinks.forEach((link) => {
      link.classList.add("hovered");
    });
  }

  function removeHoverClass() {
    navLinks.forEach((link) => {
      link.classList.remove("hovered");
    });
  }

  // followHeader에 마우스 올리면 모든 nav 색상 변경
  followHeader.addEventListener("mouseover", addHoverClass);
  followHeader.addEventListener("mouseout", removeHoverClass);

  // 각 nav 버튼에 마우스 올리면 나머지 버튼들도 동일하게 스타일 변경
  navLinks.forEach((link) => {
    link.addEventListener("mouseover", addHoverClass);
    link.addEventListener("mouseout", () => {
      // followHeader가 호버 중이지 않을 때만 클래스 제거
      if (!followHeader.matches(":hover")) {
        removeHoverClass();
      }
    });
  });

  // follow-header가 표시 상태인지 확인하는 함수
  function isFollowHeaderVisible() {
    return window.getComputedStyle(followHeader).display !== "none";
  }

  // 모든 navLinks에 클래스 추가/제거 함수
  function addHoverClass() {
    if (isFollowHeaderVisible()) {
      navLinks.forEach((link) => {
        link.classList.add("hovered");
      });
    }
  }

  function removeHoverClass() {
    navLinks.forEach((link) => {
      link.classList.remove("hovered");
    });
  }

  // followHeader에 마우스 올리면 모든 nav 색상 변경
  followHeader.addEventListener("mouseover", () => {
    if (isFollowHeaderVisible()) {
      followHeader.classList.add("hovered");
      addHoverClass();
    }
  });

  followHeader.addEventListener("mouseout", () => {
    followHeader.classList.remove("hovered");
    removeHoverClass();
  });

  // 각 nav 버튼에 마우스 올리면 나머지 버튼들도 동일하게 스타일 변경
  navLinks.forEach((link) => {
    link.addEventListener("mouseover", () => {
      if (isFollowHeaderVisible()) {
        addHoverClass();
      }
    });

    link.addEventListener("mouseout", () => {
      if (isFollowHeaderVisible() && !followHeader.matches(":hover")) {
        removeHoverClass();
      }
    });
  });

  window.addEventListener("scroll", toggleFollowHeader);
  window.addEventListener("load", toggleFollowHeader);
</script>

<script>
  const hamMenu = document.querySelector(".ham-menu-wrap");
  const hamBtn = document.querySelector(".ham-menu-img-wrap i");
  const langBtn = document.querySelectorAll(".lang-wrap");
  const moLangBtn = document.querySelector(".mobile-lang-btn");
  const header = document.querySelector(".header-main-nav");

  hamBtn.addEventListener("click", () => {
    if (hamBtn.className === "xi-bars") {
      hamBtn.className = "xi-close";
      hamMenu.style.display = "block";
      langBtn.forEach((btn) => {
        btn.style.display = "none";
        moLangBtn.style.display = "none";
      });
      header.style.display = "none";
    } else if (hamBtn.className === "xi-close") {
      hamBtn.className = "xi-bars";
      hamMenu.style.display = "none";
      langBtn.forEach((btn) => {
        btn.style.display = "block";
        moLangBtn.style.display = "";
      });
      header.style.display = "";
    }
  });
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<script type="text/javascript">
  const principles = document.querySelectorAll(
    ".principle-wrap .principle-flex-wrap .principle"
  );
  const principleImg = document.querySelectorAll(
    ".principle-wrap .principle-flex-wrap .principle .img-wrap"
  );

  function googleTranslateElementInit() {
    new google.translate.TranslateElement(
      {
        pageLanguage: "ko", // 기본 페이지 언어 설정
        includedLanguages: "ko,zh-CN,ja,en", // 포함할 언어 목록
        autoDisplay: false,
      },
      "google_translate_element"
    );
  }

  window.addEventListener("load", () => {
    // 클릭된 버튼에서 언어 코드 가져오기
    const langCode = localStorage.getItem("selectedLang");
    console.log(langCode);
    const timeLine = document.querySelectorAll(
      ".directions .directions-text-wrap .time-wrap"
    );
    const locText = document.querySelectorAll(".wrap .location.two");
    const timeText = document.querySelectorAll(".wrap .time.two");
    const contactBtn = document.querySelectorAll(
      ".contact-btn-wrap .contact-btn"
    );

    if (langCode === "en") {
      // replaceTranslatedWords();
      timeLine.forEach((el) => el.classList.add("english"));
      principles.forEach((el) => {
        el.style.width = "400px";
        el.style.textAlign = "center";
      });
    } else {
      timeLine.forEach((el) => el.classList.remove("english"));
    }

    if (langCode === "ko") {
      contactBtn.forEach((el) => (el.style.width = "168px"));
      locText.forEach((el) => (el.style.letterSpacing = ""));
      timeText.forEach((el) => (el.style.letterSpacing = ""));
    } else {
      contactBtn.forEach((el) => (el.style.width = "auto"));
      locText.forEach((el) => (el.style.letterSpacing = "normal"));
      timeText.forEach((el) => (el.style.letterSpacing = "normal"));

      // 다른 언어일 경우: Google Translate 드롭다운에서 언어 변경
      const translateSelect = document.querySelector(".goog-te-combo");
      if (translateSelect) {
        translateSelect.value = langCode; // 언어 선택
        translateSelect.dispatchEvent(new Event("change")); // 변경 이벤트 트리거
      } else {
        console.error("Google Translate combobox not found!");
      }
    }
  });

  document.querySelectorAll(".lang-wrap").forEach((btn) => {
    btn.addEventListener("click", function () {
      // 클릭된 버튼에서 언어 코드 가져오기
      const langCode = this.querySelector("img").dataset.lang;
      const timeLine = document.querySelectorAll(
        ".directions .directions-text-wrap .time-wrap"
      );
      const locText = document.querySelectorAll(".wrap .location.two");
      const timeText = document.querySelectorAll(".wrap .time.two");
      const contactBtn = document.querySelectorAll(
        ".contact-btn-wrap .contact-btn"
      );

      if (langCode === "zh-CN") {
        localStorage.setItem("selectedLang", "zhCN");
      } else {
        localStorage.setItem("selectedLang", langCode);
      }

      if (langCode === "en") {
        timeLine.forEach((el) => el.classList.add("english"));
      } else {
        timeLine.forEach((el) => el.classList.remove("english"));
      }

      if (langCode === "ko") {
        // 한국어일 경우: Google Translate 세션을 초기화하고 원본으로 복원
        resetGoogleTranslate();
        restoreOriginalText();

        contactBtn.forEach((el) => (el.style.width = "168px"));
        locText.forEach((el) => (el.style.letterSpacing = ""));
        timeText.forEach((el) => (el.style.letterSpacing = ""));
      } else {
        contactBtn.forEach((el) => (el.style.width = "auto"));
        locText.forEach((el) => (el.style.letterSpacing = "normal"));
        timeText.forEach((el) => (el.style.letterSpacing = "normal"));

        // 다른 언어일 경우: Google Translate 드롭다운에서 언어 변경
        const translateSelect = document.querySelector(".goog-te-combo");
        if (translateSelect) {
          translateSelect.value = langCode; // 언어 선택
          translateSelect.dispatchEvent(new Event("change")); // 변경 이벤트 트리거
        } else {
          console.error("Google Translate combobox not found!");
        }
      }
    });
  });

  document.querySelectorAll(".m-lang-wrap").forEach((btn) => {
    btn.addEventListener("click", function () {
      // 클릭된 버튼에서 언어 코드 가져오기
      const langSelected = document.querySelector(".mobile-lang-btn .btn-text");
      const langCode = this.querySelector("p").dataset.lang;
      const timeLine = document.querySelectorAll(
        ".directions .directions-text-wrap .time-wrap"
      );
      const locText = document.querySelectorAll(".wrap .location.two");
      const timeText = document.querySelectorAll(".wrap .time.two");
      const contactBtn = document.querySelectorAll(
        ".contact-btn-wrap .contact-btn"
      );

      if (langCode === "zh-CN") {
        localStorage.setItem("selectedLang", "zhCN");
        langSelected.innerHTML = "CN";
      } else {
        localStorage.setItem("selectedLang", langCode);
      }

      if (langCode === "en") {
        timeLine.forEach((el) => el.classList.add("english"));
        langSelected.innerHTML = "US";
      } else {
        timeLine.forEach((el) => el.classList.remove("english"));
      }

      if (langCode === "ja") {
        langSelected.innerHTML = "JP";
      }

      if (langCode === "ko") {
        // 한국어일 경우: Google Translate 세션을 초기화하고 원본으로 복원
        resetGoogleTranslate();
        langSelected.innerHTML = "KR";
        contactBtn.forEach((el) => (el.style.width = "168px"));
        locText.forEach((el) => (el.style.letterSpacing = ""));
        timeText.forEach((el) => (el.style.letterSpacing = ""));
      } else {
        contactBtn.forEach((el) => (el.style.width = "auto"));
        locText.forEach((el) => (el.style.letterSpacing = "normal"));
        timeText.forEach((el) => (el.style.letterSpacing = "normal"));

        // 다른 언어일 경우: Google Translate 드롭다운에서 언어 변경
        const translateSelect = document.querySelector(".goog-te-combo");
        if (translateSelect) {
          translateSelect.value = langCode; // 언어 선택
          translateSelect.dispatchEvent(new Event("change")); // 변경 이벤트 트리거
        } else {
          console.error("Google Translate combobox not found!");
        }
      }
    });
  });

  // Google Translate 세션 초기화 및 원본 복원 함수
  function resetGoogleTranslate() {
    // Google Translate의 iframe을 초기화해 원본 페이지로 복구
    const iframe = document.querySelector(
      ".VIpgJd-ZVi9od-ORHb-OEVmcd.skiptranslate"
    );
    if (iframe) {
      iframe.contentWindow.document.getElementById(":1.restore").click();
    }

    // 추가적으로 URL 해시값 초기화 (Google Translate는 URL에 #googtrans를 추가)
    if (window.location.hash.includes("#googtrans")) {
      history.replaceState(null, "", window.location.pathname); // URL 복구
    }
  }
</script>

<script>
  function getLanguageCode() {
    return localStorage.getItem("selectedLang") || "ko"; // 기본 언어는 한국어
  }

  const translations = {
    ko: {
      BRILLER: "브리에의원",
      SIGNATURE: "대표시술",
      LIFTING: "리프팅",
      "FACE/BODY": "주사시술",
      SKIN: "피부",
      "COLOR/PORE": "색소/모공",
      PROMOTION: "이벤트",
    },
    en: {
      BRILLER: "BRILLER",
      SIGNATURE: "SIGNATURE",
      LIFTING: "LIFTING",
      "FACE/BODY": "FACE/BODY",
      SKIN: "SKIN",
      "COLOR/PORE": "COLOR/PORE",
      PROMOTION: "PROMOTION",
    },
    zhCN: {
      BRILLER: "布里尔诊所",
      SIGNATURE: "代表手术",
      LIFTING: "提升",
      "FACE/BODY": "面部/身体",
      SKIN: "皮肤",
      "COLOR/PORE": "色素/毛孔",
      PROMOTION: "活动",
    },
    ja: {
      BRILLER: "ブリエクリニック",
      SIGNATURE: "代表施術",
      LIFTING: "リフトアップ",
      "FACE/BODY": "顔/体",
      SKIN: "スキンケア",
      "COLOR/PORE": "色素/毛穴",
      PROMOTION: "プロモーション",
    },
  };

  function changeText(element) {
    const langCode = getLanguageCode(); // 선택된 언어 코드 가져오기
    const key = element.getAttribute("data-key"); // 고유 키 가져오기
    const text = translations[langCode]?.[key];
    if (text) {
      element.textContent = text;
    }
  }

  function resetText(element) {
    const langCode = getLanguageCode(); // 선택된 언어 코드 가져오기
    const key = element.getAttribute("data-key"); // 고유 키 가져오기
    const originalText = translations.en[key]; // 기본 영어 텍스트로 복구
    if (originalText) {
      element.textContent = originalText;
    }
  }

  // main-nav-detail-wrap 호버 중일 때도 a 태그에 텍스트 유지
  document.querySelectorAll(".main-nav-btn").forEach((btn) => {
    const link = btn.querySelector("a"); // 메인 링크
    const detailWrap = btn.querySelector(".main-nav-detail-wrap"); // 세부 링크 컨테이너

    if (link && detailWrap) {
      // detailWrap에 마우스가 들어오면 changeText 유지
      detailWrap.addEventListener("mouseenter", () => {
        changeText(link);
      });

      // detailWrap에서 마우스가 나가면 resetText 복원
      detailWrap.addEventListener("mouseleave", () => {
        resetText(link);
      });
    }
  });
</script>

<script>
  const mobileOpenBtn = document.querySelector(
    "#header .menu .language-wrap .mobile-lang-btn"
  );
  const mobileLang = document.querySelector(
    "#header .menu .language-wrap .mobile-lang"
  );
  const changeLang = document.querySelector(".m-lang-wrap");

  mobileOpenBtn.addEventListener("click", () => {
    mobileLang.classList.toggle("active");
  });

  function closeMobileBtn() {
    mobileLang.classList.remove("active");
  }
</script>

<script>
  const iHide = document.querySelectorAll(".ham-menu .title-wrap");

  iHide.forEach((iHide) => {
    const btnWrap = iHide.parentElement;
    const target = btnWrap.querySelector(".btn-wrap");
    const iBtn = iHide.querySelector("i");

    iHide.addEventListener("click", () => {
      if (iBtn.className === "xi-angle-down") {
        iBtn.className = "xi-angle-up";
        target.classList.remove("disable");
      } else {
        iBtn.className = "xi-angle-down";
        target.classList.add("disable");
      }
    });
  });
</script>

<script>
  window.addEventListener("resize", () => {
    const langCode = localStorage.getItem("selectedLang");
    const contactBtn = document.querySelectorAll(
      ".contact-btn-wrap .contact-btn"
    );

    if (window.innerWidth <= 767 && langCode === "ko") {
      contactBtn.forEach((el) => {
        el.style.width = "109px";
      });
    } else {
      contactBtn.forEach((el) => {
        el.style.width = "168px";
      });
    }
  });
</script>

<script>
  const fHeader = document.querySelector("#header .follow-header");
  const logo = document.querySelector(
    "#header .follow-header .sub-logo-img-wrap"
  );
  const nav = document.querySelectorAll(
    "#header .header-main-nav .main-nav-btn .font-pm"
  );
  const menu = document.querySelector("#header .menu .ham-menu-img-wrap i");
  const moLangText = document.querySelector(
    "#header .menu .language-wrap .mobile-lang-btn p"
  );
  const moLangArrow = document.querySelector(
    "#header .menu .language-wrap .mobile-lang-btn i"
  );

  function scrollTest() {
    if (
      !(
        location.pathname.endsWith("index.html") || location.pathname === "/"
      ) &&
      window.scrollY !== 0
    ) {
      // "index.html"이 아니고, "/"가 아니고, 스크롤이 0이 아닌 경우
      fHeader.style.backgroundColor = "rgba(255, 255, 255, 0.5)";
      logo.style.filter = "";
      nav.forEach((el) => {
        el.style.color = "";
      });
      menu.style.color = "";
      moLangText.style.color = "";
      moLangArrow.style.color = "";
    } else if (
      !(
        location.pathname.endsWith("index.html") || location.pathname === "/"
      ) &&
      window.scrollY === 0 &&
      !(
        location.pathname.endsWith("promotion.html") ||
        location.pathname.endsWith("promotion_detail.html")
      ) &&
      !(
        location.pathname.endsWith("notice.html") ||
        location.pathname.endsWith("notice_detail.html")
      )
    ) {
      // 스크롤이 0인 경우
      fHeader.style.backgroundColor = "transparent";
      logo.style.filter = "none";
      nav.forEach((el) => {
        el.style.color = "#FFF";
      });
      menu.style.color = "#FFF";
      moLangText.style.color = "#FFF";
      moLangArrow.style.color = "#FFF";
    } else if (
      (location.pathname.endsWith("promotion.html") || location.pathname.endsWith("promotion_detail.html"))
    ) {
      fHeader.style.backgroundColor = "rgba(255, 255, 255, 0.5)";
    }
  }

  window.addEventListener("load", () => {
    scrollTest();
  });

  window.addEventListener("scroll", () => {
    scrollTest();
  });
</script>

<script>
  window.onload = () => {
    console.log("active");
    const lang = localStorage.getItem("selectedLang");
    const langSelected = document.querySelector(
      ".menu .language-wrap .mobile-lang-btn .btn-text.font-pl"
    );

    if (lang === "ko") {
      langSelected.innerHTML = "KO";
    } else if (lang === "en") {
      langSelected.innerHTML = "US";
    } else if (lang === "ja") {
      langSelected.innerHTML = "JP";
    } else if (lang === "zhCN") {
      langSelected.innerHTML = "CN";
    }
  };
</script>

